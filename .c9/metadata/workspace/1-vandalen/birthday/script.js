{"changed":true,"filter":false,"title":"script.js","tooltip":"/1-vandalen/birthday/script.js","value":"\"use strict\";\n\nwindow.onload = function(){\n\n\t\n\tvar birthday = function(date){\n\t\t\n\t// Kollar om formatet är rätt inmata YYY-MM-DD annars kastar undantag\n\tvar todaysDate = new Date() ;\n\t\tvar yourBirthday = new Date(date);\n\t\tvar numbersOfDays;\n\n\n\t\tif(isNaN(yourBirthday))\n\t{\n\t\t throw {'message' : \"ej giltigt datum.\"};\n\t}\n\t\n\t\t// if(todaysDate > yourBirthday) Koden bete sig konstigt\n\tif (\n\t  (yourBirthday.getFullYear() > todaysDate.getFullYear())||\n\t  (yourBirthday.getFullYear()=== todaysDate.getFullYear() && yourBirthday.getMonth()> todaysDate.getMonth()) ||\n\t  (yourBirthday.getFullYear()=== todaysDate.getFullYear() && yourBirthday.getMonth()=== todaysDate.getMonth()&& yourBirthday.getDate()>todaysDate.getDate())\n\t)\n\t{\n\t\n\t\tthrow {'message': \"Du är ej född.\"};\n\t}\n\n\n\n\t\tyourBirthday.setFullYear(todaysDate.getFullYear());\n\t\ttodaysDate.setDate(todaysDate.getDate() -1);\n\t\n\n\t\t\n\t\t if (todaysDate > yourBirthday ){\n\t\t \n\t\t \tyourBirthday.setFullYear(todaysDate.getFullYear()+1);\n\t\t }\n \t\n \t  numbersOfDays = Math.floor((yourBirthday - todaysDate) / (1000*60*60*24));\n\t\t\n\t\t return\tnumbersOfDays;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n \t\n\t\n\t\t\t\t\t\t\t\t// Din kod här.\n\t};\n\t\n\t\n\t\t\t\t\n\n\t\n\t\n\t\n\t// ------------------------------------------------------------------------------\n\n\n\t// Kod för att hantera utskrift och inmatning. Denna ska du inte behöva förändra\n\tvar p = document.querySelector(\"#value\"); // Referens till DOM-noden med id=\"#value\"\n\tvar input = document.querySelector(\"#string\");\n\tvar submit = document.querySelector(\"#send\");\n\n\t// Vi kopplar en eventhanterare till formulärets skickaknapp som kör en anonym funktion.\n\tsubmit.addEventListener(\"click\", function(e){\n\t\te.preventDefault(); // Hindra formuläret från att skickas till servern. Vi hanterar allt på klienten.\n\n\t\tp.classList.remove( \"error\");\n\n\t\ttry {\n\t\t\tvar answer = birthday(input.value) // Läser in texten från textrutan och skickar till funktionen \"convertString\"\n\t\t\tvar message;\n\t\t\tswitch (answer){\n\t\t\t\tcase 0: message = \"Grattis på födelsedagen!\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1: message = \"Du fyller år imorgon!\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: message = \"Du fyller år om \" + answer + \" dagar\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tp.innerHTML = message;\n\t\t} catch (error){\n\t\t\tp.classList.add( \"error\"); // Växla CSS-klass, IE10+\n\t\t\tp.innerHTML = error.message;\n\t\t}\n\t\n\t});\n\n\n\n};","undoManager":{"mark":0,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":112,"scrollleft":0,"selection":{"start":{"row":23,"column":2},"end":{"row":25,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1415961869713}